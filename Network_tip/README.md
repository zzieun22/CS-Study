네트워크



## 프로토콜

- 컴퓨터가 통신하기 위해 미리 정해놓은 약속 대표적으로 TCP/IP가 있다. 
- 사람들끼리 대화에서도 다른 언어를 쓰는 사람과 의사소통이 원활하지 않음 -> 컴퓨터도 마찬가지로 프로토콜이 서로 같은 것만 통신이 가능하게 한다.



### 단편화와 재결합

송신 측에서 전송할 데이터를 전송에 알맞은 적정크기의 작은 블록으로 자르는 것을 **단편화**라고 한다. 수신 측에서 단편화된 블록을 원래의 데이터로 모으는 것을 **재결합**이라고 한다.

- 단편화를 통해 세분화된 데이터 블록을 프로토콜데이터 단위 PDU라고 한다.
- 데이터를 단편화하여 전송하면 전송시간이 빠르고 통신 중의 오류를 효과적으로 제어 할 수 있다.
- 너무 작은 블록으로 단편화할 경우 재결합시 처리기간이 길어지고 , 실제 데이터 외에 부수적인 데이터가 많아지므로 비효율적이다. 

##### 종류

TCP/IP : 컴퓨터와 컴퓨터 통신회선 등으로 연결하기 위한 통신규약

HTTP : 보통 인터넷을 하는데 사용하는 프로토콜(Port 번호 : 80번)

ARP : 목적지 IP의 물리적 주소를 알아내는 프로토콜 

ICMP : 메세지를 알려주고 에러를 알려주는 프로토콜

SNMP

FTP : 컴퓨터 파일을 주고 받는 프로토콜(Port 번호 : 21)

SMTP : 메일 서버와 메일 서버간의 메일을 송수신하는 프로토콜 (Port 번호 : 25)

DHCP



## HTTP 프로토콜이란?

HyperText Transfer Protocol 의 약자로 인터넷 상에서 데이터를 주고받기위한 서버/클라이언트 모델을 따르는 프로토콜이다. 

응용층 레벨의 프로토콜로 TCP/IP위에서 작동한다. **HTTP** 는 어떤 종류의 데이터든지 전송 할 수 있도록 설계되어 있다. HTML뿐만이 아니라 이미지, 동영상, 비디오, 텍스트 문서 등 종류를 가리지 않는다.



**작동방식**

HTTP는 서버/클라이언트 모델방식을 따르며 클라이언트에서 요청(request)을 보내면 서버는 요청을 처리해 응답(response)를 한다.

**connection less** 클라이언트가 서버로 요청하고 데이터를 받으면 서버에서 바로 연결을 끊어버림 

**state less** 이전상태를 알 수 없다 -> 연결이 되면 통신을 끊어버리기 때문에



장점 : 많은 사용자들이 사용가능  -> 접속유지를 최소한으로 할 수 있기 때문에

단점 : 전 상태를 알 수 없다 -> state less 여서 전 상태를 저장하기 위해 쿠키를 사용한다.

   ![EMB0000ee0c1b82](file://localhost/Users/PARKHASIK/Library/Group%20Containers/UBF8T346G9.Office/msoclip1/01/clip_image002.png)



## big endian , little endian 이란? 

100에 1000을 추가하려면 big endian 은 100을 3칸 밀고 1을 추가해야하지만 little endian은 001로 저장되어있어서 자리수를 밀 필요없이 그냥 뒤에서 1만 추가해주면 된다.



## TCP와 UDP



..



### POST방식과 GET방식

**GET**은 주소줄에 값이 ? (? 뒤에 입력할 데이터의 정보를 기록한다.) 뒤에 쌍으로 이어붙어있다.(보안(x)) 반면 **POST** 는 숨겨져서 (body 안에)보내진다. 

GET은 URL에 이어붙이기 때문에 길이제한이 있어(255자) 많은 양의 데이터는 보내기 어렵고 POST는 많은 양을 보내기에도 적합하다.

가장 큰 차이는 GET은 Select 적인 성향을 가지고 있다 GET은 서버에 어떤 데이터를 가져와서 보여준다던가하는 용도이지 서버의 값이나 상태등을 바꾸지 않는다. 게시판의 리스트라든지 글보기 기능같은 것에 이에 해당한다. 반면에 POST는 서버의 값이나 상태를 바꾸기 위해서 사용한다. 글쓰기를 하면 글의 내용이 디비에 저장이 되고 수정을 하면 디비값이 수정된다. 이럴경우 POST방식을 사용한다.



- GET 방식 (url로 값을 넘긴다)

클라이언트로부터의 데이터를 이름값과 같이 결합된 스트링 형태로 전달

`<FORM>` 태그 “METHOD” 속성의 값으로는 “GET ”을 입력

전송 데이터의 양 : 255자 

데이터가 주소 입력란에 표시 되므로 최소한의 보안도 유지 되지 않음

- POST 방식(form으로 값을 넘긴다)

`<FORM>` 태그 “METHOD” 속성의 값으로는 “POST ”을 입력

전송 데이터 양 : 제한없음

데이터베이스에 대한 갱신작업과 같은 서버측에서 정보갱신 작업을 원할 때 사용

POST 방식을 사용하면 GET방식에 비해 상대적으로 처리 속도가 늦어짐

POST 방식 : 클라이언트 측에서 데이터를 인코딩 -> 서버측에서 디코딩



POST 방식이 나온이유

1. GET	방식으로 넘길 수 있는 데이터 양은 한계가 있다. 또한, GET방식에는 예약어(? , & 등)가 있다.
2. 사용자에게 값들을 쉽게 노출 시키지 않으려 할 때 사용할 수 있다. 



**3-way-handshaking**

- 쉽게 이야기 하면, 서로의 통싞을 위한 관문(port)를 확인하고 연결하기 위하여 3번의 요청/응답 후에 연결이 되는 것이다. -> 쉽게 말하면 SYN은 “ 문 열어줘” 라고 소리치는 것이다.

- TCP 3 – way – handshaking 은 TCP/IP 프로토콜을 이용해서 통싞을 하는 응용프로그램이 데이터를 젂 송하기 젂에 먼저 정확한 젂송을 보장하기 위해 상대방 컴퓨터와 사젂에 세션을 수립하는 과정을 의미한다.

- 양쪽 데이터 모두 젂송할 준비가 되었다는 것을 보장하고 , 실제로 데이터 젂달이 시작하기 젂에 한쪽이 다른 쪽이 준비 되었다는 것을 알 수 있도록 한다. ※ TCP의 3-way HandShaking 과정

step 1 : 클라이얶트는 서버에 접속을 요청하는 SYN 패킷을 보낸다. 이때 클라이얶트는 SYN을 보내고 ACK응답을 기다린다. -> 응답 시갂이 길어지면 timeout이 발생해 클라이얶트는 SYN패 킷을 다시 보낸다. (재젂송)

step 2 : 서버는 SYN 요청을 받고 클라이얶트에게 요청을 수락한다는 ACK와 SYN flag가 설정 된 패킷을 발송하고 클라이얶트가 다시 ACK로 응답하기를 기다린다.

step 3 : 클라이얶트는 서버에게 ACK를 보내고 이후부터는 연결이 이루어지고 데이터가 오가게 된다.



**4 – way handshaking**

3-way-handshake가 TCP의 연결을 설정할 때 사용한다면, 4-way -handshake는 연결을 종료하 기 위해 사용하는 젃차이다.

※ TCP의 4-way HandShaking 과정

step 1 : 클라이얶트가 연결을 종료하겠다는 FIN 플래그를 전송한다.

step 2 : 서버는 일단 확인메시지를 보내고 클라이얶트는 서버가 돌리고 있는 프로그램이 끝날 때 까지 기다린다.

step 3 : 서버가 통싞이 끝났으면 연결이 종료되었다고 클라이얶트에게 FIN플래그를 젂송한다.

step4 : 클라이언트는 서버로부터 FIN플래그를 받고 바로 ACK를 보내는 것이 아닌 TIME_WAIT 라는 일정시갂 동안 기다리고 ACK를 보낸다. ( 서버에서 FIN을 젂송하기 젂에 젂송 한 패킷이 Routing 지연이나 패킷 유실로 인한 재젂송 등으로 인해 FIN 패킷 보다 늦게 도착하 는 상황이 발생한다면??)



## 흐름제어





## 혼잡제어





## 로드밸런싱

하나의 인터넷 서비스가 발생하는 트래픽이 많을 때 여러대의 서버가 분산처리 하여 서버의 로드율 증가, 부하량, 속도처하등을 고려하여 적절히 분산처리 하여 해결해주는 서비스이다.(부하 분산을 위해 가상 IP를 통해 여러 서버에 접속하도록 분배하는 기능)



인터넷 트래픽은 매년 100% 이상 증가하고 있지만 서버 성능은 트래픽 증가분을 따라가지 못하 고 있다. 이 문제는 크게 2가지 방법으로 해결할 수 있다.

하나는 Scale_up 즉, 수직방향으로 CPU,메모리, 디스크 기능을 업그레이드 하는 방법 -> 기능을 향상시키면 그만큼 비용도 올라간다.

다른하나는 Scale_out 즉, 수직방향으로 노드를 추가해서 성능을 업그레이드 하는 방법 (로드 밸런싱) 저렴한 노드를 여러개 묶어서 성능을 업그레이드 하는데 scale_up방식에 비해서 비용을 크게 줄일 수 있으며 유연한 구성이 가능하다. cluster를 구성하는 하나의 노드에 문제가 생기더라도 서비스가 중단되지 않기 때문에 가용성을 확보하기 쉽다는 장점이 있다. 일반적으로 로드 벨런싱은 웹 사이트나 FTP, DNS 등 클라이언트 요청이 많은 서비스에 주로 사용한다.

**2가지 종류**



## 도메인



## 브라우저에 URL치면 어떤일 발생?





